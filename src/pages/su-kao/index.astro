---
import { PostList } from "@/components/index";
import { ArticleFrontMatter } from "../../types/general";
import SiteLayout, {
  Props as SiteLayoutProps,
} from "../../layouts/SiteLayout.astro";
import { SITE } from "../../site-config";

let allPosts = await Astro.glob<ArticleFrontMatter>(
  "../../../_data/thoughts/*.md"
);

allPosts = allPosts
  .sort((a, b) => {
    if (
      new Date(a.frontmatter.publishedAt) > new Date(b.frontmatter.publishedAt)
    ) {
      return -1;
    } else {
      return 1;
    }
  })
  .filter((e) => e.frontmatter.locale === "zh-TW");

const pageMeta: SiteLayoutProps["meta"] = {
  title: "思考",
  locale: "zh-TW",
  description: "This is Summerbud's posts archive",
  image: {
    src: null,
    alt: null,
  },
  publishedAt: null,
  tags: null,
};
---

<SiteLayout
  fullWidth={false}
  meta={pageMeta}
  canonicalURL={`${SITE.domain}/si-kao`}
  text={null}
>
  <PostList slugPrefix="thoughts" posts={allPosts} />
</SiteLayout>
